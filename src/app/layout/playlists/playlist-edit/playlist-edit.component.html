<form class="row"
      (ngSubmit)="onSubmit()"
      [formGroup]="p_form">
  <h4 class="text-center col-sm-12">{{editMode ? 'Edit '+ p_selected.name : 'Create new'}}</h4>
  <div class="form-group col-sm-12">
    <label for="p_name" class="text-info font-weight-bold">PLAYLIST NAME</label>
    <input type="text"
           id="p_name"
           placeholder="YOUR PLAYLIST NAME"
           formControlName="name"
           class="form-control">
  </div>
  <div class="form-group col-sm-12"
       formArrayName="videos">
    <label for="p_videos"
           class="text-info font-weight-bold">Videos - <a class="not-linked"
                                                          (click)="onAddVideo()">Add video</a></label>
    <div id="p_videos"
        *ngIf="getControls().length"
        class="row">
      <ng-container *ngFor="let video of getControls(); let i = index"
                    [formGroupName]="i">
        <div class="col-sm-12 form-group">
          <input type="text"
                 class="form-control mb-1"
                 formControlName="title"
                 placeholder="YOUR TITLE">
          <input type="text"
                 class="form-control mb-1"
                 formControlName="author"
                 placeholder="YOUR AUTHOT">
          <input type="text" class="form-control mb-1"
                 formControlName="link"
                 placeholder="YOUR URL">
          <button class="btn btn-danger float-right"
                  (click)="onRemoveVideo(i)">X</button>
        </div>
      </ng-container>
    </div>
    <p *ngIf="!getControls().length">
      There are no videos. Try to add a new one
    </p>
  </div>
  <div class="col-sm-12">
    <button class="btn btn-success"
            type="submit"
            [disabled]="!p_form.valid">{{editMode ? 'Save changes' : 'Create'}}</button>
  </div>
</form>
